import { MAIN_AUTO_DETAILS_CONTAINER,
    MAIN_AUTH_CONTAINER,
    MAIN_HEADER_CONTAINER,
    MAIN_GARAGE_CONTAINER,
    MAIN_AUTO_ROUTE_CONTAINER,
    MAIN_AUTO_DEBUGGING_CONTAINER,
    MAIN_ADD_EVM_PRO_CONTAINER,
    MAIN_USERS_CONTROLLER_CONTAINER,
    MAIN_MAP_CONTAINER,
    MAIN_PERSONAL_OFFICE_CONTAINER } from "../utils/containers.js";
import { clearContainers } from "../utils/cleaner.js";

import { Table } from "./Table.js";
import { ChartWeek } from "./ChartWeek.js";
import { RouteAuto } from "./RouteAuto.js";
import { DebuggingAuto } from "./DebuggingAuto.js";
import { OptionsAKB } from "./OptionAKB.js";
import { SystemError } from "./SystemError.js";
import { ServiceDate } from "./ServiceDate.js";

export class Auto {
    constructor() {
        this.container = document.querySelector(".auto-details");
    }

    async getDetails(item, battery) {
        const newItem = document.createElement("section");
        const table = new Table();
        const chartWeek = new ChartWeek();
        newItem.classList.add("details");
        newItem.innerHTML = `
        <section>
            <div class="grid-container">
                <section id="" class="item1">
                    <h1>Электрогрузомобиль <br class="br-z">${item.name}</h1>
                    <image src="image/car.png" alt="Home Изображение"></image>
                </section>
                <section id="" class="item2 other-blocks">
                    <h4>Пробег</h4>
                    <div class="statistic">
                        ${chartWeek.getChartWeek(item)}
                        <div >
                            <h5>Пробег общий</h5>
                            <h5>${item.steps} км</h5>
                        </div>
                    </div>
                </section>
                <section id="" class="item3 other-blocks">
                    <svg class="item3-map-mark" width="36" height="44" viewBox="0 0 36 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16.6366 42.4912C17.506 42.4912 33.0408 25.8931 33.0408 16.8334C33.0408 7.77359 25.6963 0.429199 16.6366 0.429199C7.57681 0.429199 0.232422 7.77359 0.232422 16.8334C0.232422 25.8931 15.7672 42.4912 16.6366 42.4912ZM16.6366 25.0382C21.2299 25.0382 24.9536 21.3145 24.9536 16.7212C24.9536 12.1279 21.2299 8.40427 16.6366 8.40427C12.0433 8.40427 8.3197 12.1279 8.3197 16.7212C8.3197 21.3145 12.0433 25.0382 16.6366 25.0382Z" fill="#FF3722"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M0.232422 16.8334C0.232422 25.8931 15.7672 42.4912 16.6366 42.4912V25.0382C12.0433 25.038 8.3197 21.3145 8.3197 16.7212C8.3197 12.1279 12.0433 8.40429 16.6366 8.40427V0.429199C7.57681 0.429199 0.232422 7.77359 0.232422 16.8334Z" fill="#FF3722"/>
                    </svg>                            
                    <button id="routeAutoButton">
                        Маршрут
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.5601 20.7675C14.9636 21.5745 16.145 21.4767 16.4103 20.6144L21.2746 4.8053C21.5107 4.03802 20.7921 3.31935 20.0248 3.55543L4.21567 8.41977C3.3534 8.68509 3.25562 9.86652 4.06254 10.27L10.7628 13.6201C10.9563 13.7169 11.1132 13.8738 11.21 14.0673L14.5601 20.7675Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </section>
                <section id="" class="item4 other-blocks">
                    <h4>Заряд</h4>
                    <div class="battery">
                        ${battery.getBattery(item.battery_health)}
                        <div class="battery_health">${item.battery_health}%</div>
                    </div>
                </section>
                <section id="" class="item5 other-blocks">
                    <div class="item5-main-container">
                        <h4>Обогрев АКБ</h4>
                        <div class="item5-main-info">
                            <p>Выключен</p>
                            <button id="akbSettingsButton">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20.1604 6.71092L12.5001 2.28827C12.1907 2.10964 11.8095 2.10964 11.5001 2.28827L3.83984 6.71092C3.53044 6.88955 3.33984 7.21968 3.33984 7.57695V16.4222C3.33984 16.7795 3.53044 17.1096 3.83984 17.2883L11.5001 21.7109C11.8095 21.8896 12.1907 21.8896 12.5001 21.7109L20.1604 17.2883C20.4698 17.1096 20.6604 16.7795 20.6604 16.4222V7.57695C20.6604 7.21968 20.4698 6.88955 20.1604 6.71092Z" stroke="#C0C3C6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#C0C3C6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="link-text">Настроить</span>
                            </button>
                        </div>
                    </div>
                    <div class="item5-ico">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M40.4945 14.1779C41.2451 13.4239 42.2652 13 43.3292 13L53.9728 13C55.8455 13 57.3636 14.5181 57.3636 16.3908C57.3636 18.2635 55.8455 19.7816 53.9728 19.7816H47.7422C47.4692 19.7816 47.2479 20.0029 47.2479 20.2759C47.2479 20.5488 47.4692 20.7701 47.7422 20.7701H71.8402C72.3528 20.7701 72.8947 20.8665 73.4053 21.1165C73.951 21.3837 74.9485 21.9172 75.5563 22.5988C76.1654 23.2819 76.5977 24.3571 76.7916 24.8832C76.9431 25.2944 77 25.7123 77 26.1066V51.6437C77 53.8528 75.2091 55.6437 73 55.6437H70.7011C70.1827 55.6437 69.6274 55.8737 68.9695 56.2587C67.6214 57.0476 66.1052 57.3261 65.6044 57.4026C65.4308 57.4292 65.268 57.4368 65.1224 57.4368H49.843C48.7384 57.4368 47.843 58.3322 47.843 59.4368V63C47.843 65.2091 46.0521 67 43.843 67H41.5124C39.3033 67 37.5124 65.2091 37.5124 63V59.4368C37.5124 58.3322 36.617 57.4368 35.5124 57.4368H32.4374C32.1015 57.4368 31.771 57.5214 31.4764 57.6828L29.8522 58.5727C29.5713 58.7266 29.3967 59.0214 29.3967 59.3416C29.3967 60.9304 28.1087 62.2184 26.5199 62.2184H26.0165C25.2572 62.2184 24.6364 62.8387 24.6364 63.6039C24.6364 65.4736 23.1211 67 21.2456 67H17.6966C15.8239 67 14.3058 65.4819 14.3058 63.6092C14.3058 62.8411 13.6831 62.2184 12.915 62.2184H12.3412C10.4685 62.2184 8.95041 60.7003 8.95041 58.8276C8.95041 58.0595 8.32773 57.4368 7.55961 57.4368H7.37814C7.01293 57.4368 6.62094 57.3822 6.23521 57.2327C5.83496 57.0775 5.05709 56.7499 4.53384 56.2948C4.04067 55.8659 3.64313 55.213 3.41605 54.8036C3.11154 54.2546 3 53.6592 3 53.1057L3 31.3452C3 31.3361 3.00001 31.3225 3.00028 31.306C3.00185 31.2114 3.01349 30.7451 3.10347 30.1919C3.18667 29.6805 3.36355 28.9089 3.79955 28.3366C4.10843 27.9311 4.53789 27.6352 4.89272 27.4317C5.2625 27.2197 5.63706 27.0603 5.90996 26.9558C6.32123 26.7983 6.73569 26.7471 7.11251 26.7471H9.6281C10.7326 26.7471 11.6281 25.8516 11.6281 24.7469V23.5632C11.6281 22.6828 12.1805 22.073 12.6207 21.7222C13.0777 21.358 13.6028 21.117 13.9429 20.9814C14.3556 20.817 14.7699 20.7701 15.1327 20.7701H28.3887C28.8267 20.7701 29.1818 20.415 29.1818 19.977C29.1818 18.4344 30.4323 17.1839 31.9749 17.1839H34.3391C35.8817 17.1839 37.1322 18.4344 37.1322 19.977C37.1322 20.415 37.4873 20.7701 37.9253 20.7701H38.2149C38.8128 20.7701 39.2975 20.2854 39.2975 19.6875V17.0318C39.2975 15.9741 39.7165 14.9593 40.4628 14.2097L40.4945 14.1779ZM43.3292 15C42.7972 15 42.2872 15.2119 41.9118 15.5889L41.8802 15.6208C41.507 15.9956 41.2975 16.5029 41.2975 17.0318V19.6875C41.2975 21.39 39.9174 22.7701 38.2149 22.7701H37.9253C36.3828 22.7701 35.1322 21.5196 35.1322 19.977C35.1322 19.539 34.7771 19.1839 34.3391 19.1839H31.9749C31.5369 19.1839 31.1818 19.539 31.1818 19.977C31.1818 21.5196 29.9313 22.7701 28.3887 22.7701H15.1327C14.9357 22.7701 14.7907 22.7966 14.6832 22.8394C14.4189 22.9447 14.1015 23.0995 13.8671 23.2863C13.753 23.3773 13.687 23.4536 13.6534 23.5071C13.6379 23.5318 13.632 23.5474 13.6299 23.5542C13.6281 23.56 13.6281 23.5619 13.6281 23.5632V24.7469C13.6281 26.956 11.8373 28.7471 9.6281 28.7471H7.11251C6.91258 28.7471 6.75253 28.7748 6.62519 28.8236C6.4078 28.9068 6.13627 29.0242 5.88744 29.1668C5.62367 29.318 5.46201 29.4547 5.39053 29.5485C5.27193 29.7042 5.15254 30.0519 5.07753 30.513C5.0093 30.9325 5.00079 31.2921 5.00001 31.3392C5.00002 31.3385 5 31.3384 5 31.3452L5 53.1057C5 53.3979 5.05928 53.6429 5.16501 53.8335C5.38229 54.2252 5.63864 54.605 5.84633 54.7857C6.07873 54.9878 6.55538 55.2118 6.95805 55.3679C7.07022 55.4113 7.20936 55.4368 7.37814 55.4368H7.55961C9.4323 55.4368 10.9504 56.9549 10.9504 58.8276C10.9504 59.5957 11.5731 60.2184 12.3412 60.2184H12.915C14.7877 60.2184 16.3058 61.7365 16.3058 63.6092C16.3058 64.3773 16.9285 65 17.6966 65H21.2456C22.0108 65 22.6364 64.3749 22.6364 63.6039C22.6364 61.7399 24.1468 60.2184 26.0165 60.2184H26.5199C27.0042 60.2184 27.3967 59.8258 27.3967 59.3416C27.3967 58.2908 27.9696 57.3236 28.8912 56.8187L30.5154 55.9288C31.1046 55.606 31.7656 55.4368 32.4374 55.4368H35.5124C37.7215 55.4368 39.5124 57.2276 39.5124 59.4368V63C39.5124 64.1046 40.4078 65 41.5124 65H43.843C44.9475 65 45.843 64.1046 45.843 63V59.4368C45.843 57.2276 47.6338 55.4368 49.843 55.4368H65.1224C65.1991 55.4368 65.2562 55.4327 65.3023 55.4256C65.7297 55.3603 66.9432 55.1272 67.9593 54.5325C68.6788 54.1115 69.6236 53.6437 70.7011 53.6437H73C74.1046 53.6437 75 52.7482 75 51.6437V26.1066C75 25.9024 74.9704 25.7252 74.9149 25.5748C74.7159 25.0347 74.391 24.2971 74.0636 23.9299C73.7435 23.5709 73.0746 23.1815 72.5258 22.9128C72.337 22.8203 72.1062 22.7701 71.8402 22.7701L47.7422 22.7701C46.3646 22.7701 45.2479 21.6534 45.2479 20.2759C45.2479 18.8983 46.3646 17.7816 47.7422 17.7816H53.9728C54.741 17.7816 55.3636 17.1589 55.3636 16.3908C55.3636 15.6227 54.741 15 53.9728 15L43.3292 15Z" fill="#29BB4A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M57.8874 47.1258V42.0825H60.5244C60.5321 42.101 60.5403 42.1195 60.5491 42.1379L63.1239 47.493C63.3321 47.926 63.77 48.2014 64.2505 48.2014H64.894C65.229 48.2014 65.5006 47.9298 65.5006 47.5947C65.5006 47.5025 65.4796 47.4115 65.4391 47.3286L62.624 41.5631C62.9156 41.4132 63.1861 41.2279 63.4345 41.0071C63.9175 40.5778 64.2918 40.0453 64.5605 39.4191C64.8401 38.7834 64.9756 38.085 64.9756 37.3317C64.9756 36.3372 64.7934 35.4615 64.4032 34.7261C64.0205 33.9922 63.4633 33.4299 62.7387 33.0519C62.0265 32.6769 61.196 32.5 60.2651 32.5H57.2363C56.4079 32.5 55.7363 33.1716 55.7363 34V47.1258C55.7363 47.7198 56.2179 48.2014 56.8119 48.2014C57.4059 48.2014 57.8874 47.7198 57.8874 47.1258ZM60.4569 40.0021H57.8874V35.0804C57.8874 34.8042 58.1113 34.5804 58.3874 34.5804H60.2651C60.8651 34.5804 61.3296 34.7015 61.6848 34.9136L61.6924 34.918C62.06 35.1288 62.333 35.4248 62.5189 35.8186L62.5214 35.8236C62.717 36.226 62.8245 36.7234 62.8245 37.3317C62.8245 37.8166 62.7303 38.2654 62.5444 38.6835L62.5421 38.6889C62.3695 39.0899 62.1122 39.4062 61.766 39.6479C61.4439 39.8729 61.0184 40.0021 60.4569 40.0021Z" fill="#29BB4A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M44.1913 47.7014C43.8086 47.7014 43.5364 47.3293 43.6524 46.9646L47.9931 33.3143C48.0018 33.2869 48.0122 33.2623 48.0242 33.2403C48.0118 33.2637 48.0014 33.2884 47.9932 33.3143L43.6525 46.9646C43.5365 47.3293 43.8087 47.7014 44.1914 47.7014C44.1923 47.7014 44.1933 47.7014 44.1942 47.7014C44.1932 47.7014 44.1923 47.7014 44.1913 47.7014ZM45.8683 43.5919L45.897 43.5919C45.8875 43.5919 45.878 43.5917 45.8685 43.5912L45.8683 43.5919ZM51.0534 42.5115L51.0535 42.5115L48.6235 34.5965L48.6234 34.5967L51.0534 42.5115ZM47.5166 33.1628C47.6638 32.6998 48.1294 32.5222 48.628 32.5222C49.1138 32.5222 49.5925 32.7 49.7398 33.1631L54.0803 46.8129C54.2989 47.5001 53.786 48.2014 53.0648 48.2014C52.5967 48.2014 52.1835 47.896 52.0461 47.4486L51.0156 44.0919H46.238L45.21 47.448C45.0729 47.8957 44.6595 48.2014 44.1913 48.2014C43.4702 48.2014 42.9574 47.5002 43.1759 46.813L47.5166 33.1628ZM46.8752 42.0115L48.6239 36.302L50.3768 42.0115H46.8752Z" fill="#29BB4A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M41.2978 46.971V33.5755C41.2978 32.9815 40.8162 32.5 40.2222 32.5C39.6282 32.5 39.1467 32.9815 39.1467 33.5755V41.6594C39.1467 42.1757 38.4593 42.3533 38.2093 41.9015L33.356 33.1346C33.1392 32.743 32.727 32.5 32.2794 32.5C31.5998 32.5 31.0488 33.0509 31.0488 33.7306V47.1208C31.0488 47.7176 31.5326 48.2014 32.1294 48.2014C32.7262 48.2014 33.21 47.7176 33.21 47.1208V39.0469C33.21 38.5304 33.8977 38.353 34.1476 38.8051L38.9906 47.5662C39.2072 47.9581 39.6196 48.2014 40.0674 48.2014C40.7469 48.2014 41.2978 47.6505 41.2978 46.971Z" fill="#29BB4A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M28.1563 47.1208V33.5806C28.1563 32.9838 27.6725 32.5 27.0757 32.5C26.4789 32.5 25.9951 32.9838 25.9951 33.5806V47.1208C25.9951 47.7176 26.4789 48.2014 27.0757 48.2014C27.6725 48.2014 28.1563 47.7176 28.1563 47.1208Z" fill="#29BB4A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8174 38.099C20.6511 38.4161 20.4117 38.6509 20.0875 38.813L20.0845 38.8145C19.7613 38.9787 19.3421 39.0732 18.8066 39.0732H16.6511V35.0804C16.6511 34.8042 16.8749 34.5804 17.1511 34.5804H18.7056C19.3038 34.5804 19.7594 34.6745 20.0961 34.8348L20.1047 34.8387C20.4351 34.9884 20.6687 35.2122 20.8245 35.5186L20.8291 35.5273C20.9954 35.8392 21.0934 36.2573 21.0934 36.8066C21.0934 37.3534 20.993 37.7743 20.8204 38.0933L20.8174 38.099ZM15.5755 47.7014C15.5545 47.7014 15.5338 47.7002 15.5134 47.6981C15.5338 47.7002 15.5545 47.7014 15.5755 47.7014ZM20.1261 40.731C20.0931 40.7226 20.0597 40.7147 20.0258 40.7074C20.0597 40.7147 20.0931 40.7226 20.1261 40.731ZM22.1814 40.1748C22.0818 40.0932 21.9784 40.0184 21.8714 39.9504C22.2845 39.6118 22.6115 39.1936 22.8509 38.7013L22.852 38.6989C23.1231 38.1335 23.2546 37.5134 23.2546 36.847C23.2546 36.1369 23.1546 35.4983 22.9394 34.9431C22.7329 34.3864 22.4245 33.9156 22.0075 33.5461C21.5961 33.1749 21.1009 32.9092 20.5334 32.7426C19.981 32.5785 19.37 32.5 18.7056 32.5H16C15.1716 32.5 14.5 33.1716 14.5 34V47.1258C14.5 47.7198 14.9815 48.2014 15.5755 48.2014C15.7232 48.2014 15.8639 48.1716 15.9919 48.1178C16.1164 48.1713 16.2552 48.2014 16.4043 48.2014H19.2004C20.0555 48.2014 20.8287 48.0293 21.5048 47.6684C22.1927 47.3049 22.7301 46.7692 23.112 46.0742L23.1131 46.0722C23.4991 45.3619 23.6786 44.5141 23.6786 43.5515C23.6786 42.8692 23.5522 42.2307 23.2927 41.6431C23.0338 41.0567 22.6637 40.5641 22.1814 40.1748ZM19.2105 46.121H16.6511V41.1334H19.2812C19.8311 41.1334 20.2408 41.2498 20.5434 41.4465L20.5516 41.4516C20.8764 41.654 21.1121 41.926 21.2669 42.2784C21.4307 42.6511 21.5175 43.0794 21.5175 43.5717C21.5175 44.1371 21.4142 44.5992 21.2269 44.9737L21.2244 44.979C21.0432 45.3524 20.7896 45.63 20.4613 45.8266C20.1354 46.0151 19.7253 46.121 19.2105 46.121Z" fill="#29BB4A"/>
                        </svg>                            
                    </div>
                </section>
                <section id="debuggingAutoButton" class="item6 other-blocks">
                    <h4>Отладка</h4>
                    <div class="item6-ico">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 40H24V38H16V40ZM25 41V49H27V41H25ZM24 50H16V52H24V50ZM15 49V41H13V49H15ZM16 50C15.4477 50 15 49.5523 15 49H13C13 50.6569 14.3431 52 16 52V50ZM25 49C25 49.5523 24.5523 50 24 50V52C25.6569 52 27 50.6569 27 49H25ZM24 40C24.5523 40 25 40.4477 25 41H27C27 39.3431 25.6569 38 24 38V40ZM16 38C14.3431 38 13 39.3431 13 41H15C15 40.4477 15.4477 40 16 40V38Z" fill="#29BB4A"/>
                            <path d="M56 46H64V44H56V46ZM65 47V55H67V47H65ZM64 56H56V58H64V56ZM55 55V47H53V55H55ZM56 56C55.4477 56 55 55.5523 55 55H53C53 56.6569 54.3431 58 56 58V56ZM65 55C65 55.5523 64.5523 56 64 56V58C65.6569 58 67 56.6569 67 55H65ZM64 46C64.5523 46 65 46.4477 65 47H67C67 45.3431 65.6569 44 64 44V46ZM56 44C54.3431 44 53 45.3431 53 47H55C55 46.4477 55.4477 46 56 46V44Z" fill="#29BB4A"/>
                            <path d="M44 32L36 32L36 34L44 34L44 32ZM35 31L35 23L33 23L33 31L35 31ZM36 22L44 22L44 20L36 20L36 22ZM45 23L45 31L47 31L47 23L45 23ZM44 22C44.5523 22 45 22.4477 45 23L47 23C47 21.3431 45.6569 20 44 20L44 22ZM35 23C35 22.4477 35.4477 22 36 22L36 20C34.3431 20 33 21.3431 33 23L35 23ZM36 32C35.4477 32 35 31.5523 35 31L33 31C33 32.6569 34.3431 34 36 34L36 32ZM44 34C45.6569 34 47 32.6569 47 31L45 31C45 31.5523 44.5523 32 44 32L44 34Z" fill="#29BB4A"/>
                            <rect x="21" y="51" width="18" height="2" rx="1" transform="rotate(90 21 51)" fill="#29BB4A"/>
                            <rect x="61" y="57" width="12" height="2" rx="1" transform="rotate(90 61 57)" fill="#29BB4A"/>
                            <rect x="39" y="21" width="10" height="2" rx="0.999999" transform="rotate(-90 39 21)" fill="#29BB4A"/>
                            <rect x="21" y="11" width="21" height="2" rx="1" transform="rotate(90 21 11)" fill="#29BB4A"/>
                            <rect x="61" y="11" width="27" height="2" rx="0.999999" transform="rotate(90 61 11)" fill="#29BB4A"/>
                            <rect x="41" y="40" width="29" height="2" rx="0.999999" transform="rotate(90 41 40)" fill="#29BB4A"/>
                        </svg>                            
                    </div>
                </section>
                <section id="" class="item7 other-blocks">
                    <h4>АКБ</h4>
                    <div class="item7-ico">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="9" y="24" width="62" height="41" rx="3" stroke="#29BB4A" stroke-width="2"/>
                            <mask id="path-2-inside-1_967_24465" fill="white">
                            <path d="M52 17C52 14.7909 53.7909 13 56 13H60C62.2091 13 64 14.7909 64 17V21H52V17Z"/>
                            </mask>
                            <path d="M50 17C50 13.6863 52.6863 11 56 11H60C63.3137 11 66 13.6863 66 17H62C62 15.8954 61.1046 15 60 15H56C54.8954 15 54 15.8954 54 17H50ZM64 21H52H64ZM50 21V17C50 13.6863 52.6863 11 56 11V15C54.8954 15 54 15.8954 54 17V21H50ZM60 11C63.3137 11 66 13.6863 66 17V21H62V17C62 15.8954 61.1046 15 60 15V11Z" fill="#29BB4A" mask="url(#path-2-inside-1_967_24465)"/>
                            <mask id="path-4-inside-2_967_24465" fill="white">
                            <path d="M16 17C16 14.7909 17.7909 13 20 13H24C26.2091 13 28 14.7909 28 17V21H16V17Z"/>
                            </mask>
                            <path d="M14 17C14 13.6863 16.6863 11 20 11H24C27.3137 11 30 13.6863 30 17H26C26 15.8954 25.1046 15 24 15H20C18.8954 15 18 15.8954 18 17H14ZM28 21H16H28ZM14 21V17C14 13.6863 16.6863 11 20 11V15C18.8954 15 18 15.8954 18 17V21H14ZM24 11C27.3137 11 30 13.6863 30 17V21H26V17C26 15.8954 25.1046 15 24 15V11Z" fill="#29BB4A" mask="url(#path-4-inside-2_967_24465)"/>
                            <rect x="16" y="43" width="16" height="2" rx="1" fill="#29BB4A"/>
                            <rect x="48" y="43" width="16" height="2" rx="1" fill="#29BB4A"/>
                            <rect x="57" y="36" width="16" height="2" rx="1" transform="rotate(90 57 36)" fill="#29BB4A"/>
                        </svg>                            
                    </div>
                </section>
                <section id="systemErrorButton" class="item8 other-blocks">
                    <div>
                        <h4>Ошибка системы</h4>
                        <h5>debug: voltage</h5>
                    </div>
                    <div class="item8-ico">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M37.2109 12.3718C36.0773 13.7997 34.8208 15.9707 33.0719 19L11.4212 56.5C9.6723 59.5293 8.42039 61.703 7.75054 63.3987C7.08402 65.0859 7.10617 66.0261 7.52412 66.75C7.94207 67.4739 8.7452 67.9632 10.5397 68.2296C12.3431 68.4973 14.8516 68.5 18.3494 68.5H61.6507C65.1486 68.5 67.657 68.4973 69.4605 68.2296C71.2549 67.9632 72.0581 67.4739 72.476 66.75C72.894 66.0261 72.9161 65.0859 72.2496 63.3987C71.5798 61.703 70.3279 59.5293 68.5789 56.5L46.9283 19C45.1793 15.9707 43.9228 13.7997 42.7892 12.3718C41.6613 10.9509 40.836 10.5 40.0001 10.5C39.1642 10.5 38.3389 10.9509 37.2109 12.3718ZM35.6445 11.1282C36.8981 9.5491 38.2379 8.5 40.0001 8.5C41.7623 8.5 43.102 9.5491 44.3556 11.1282C45.5925 12.6863 46.9213 14.9879 48.6146 17.9209L70.3568 55.5793C72.0501 58.5122 73.3789 60.8137 74.1097 62.6639C74.8505 64.5391 75.0892 66.2239 74.2081 67.75C73.327 69.2761 71.7486 69.9118 69.7542 70.2079C67.7864 70.5 65.1289 70.5 61.7423 70.5H18.2579C14.8712 70.5 12.2137 70.5 10.246 70.2079C8.2516 69.9118 6.67316 69.2761 5.79207 67.75C4.91098 66.2239 5.14964 64.5391 5.89041 62.6638C6.62129 60.8137 7.95011 58.5121 9.64348 55.5792L31.3855 17.9208C33.0789 14.9879 34.4076 12.6863 35.6445 11.1282Z" fill="#FF3722"/>
                            <path d="M37.2616 31.4855C37.1218 30.1571 38.1634 29 39.4993 29H40.5007C41.8366 29 42.8782 30.1571 42.7384 31.4855L41.1047 47.0055C41.0452 47.5708 40.5685 48 40 48C39.4315 48 38.9548 47.5708 38.8953 47.0055L37.2616 31.4855Z" fill="#FF3722"/>
                            <circle cx="40" cy="56" r="3" fill="#FF3722"/>
                        </svg>                            
                    </div>
                </section>
                <section id="nextServiceDateChangeButton" class="item9 other-blocks">
                    <div>
                        <h4>Следующий сервис</h4>
                        <h5>${item.next_service}</h5>
                    </div>
                    <div class="item9-ico">
                        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M38.1163 9C37.5216 9 36.9343 9.13206 36.3968 9.38666L36.3078 9.42882C35.6895 9.7217 35.1654 10.1815 34.7945 10.7564C34.5376 11.1545 34.3602 11.5987 34.2721 12.0642L33.9989 13.5087C33.6808 15.1901 32.5285 16.5938 30.9413 17.2334C29.3564 17.8721 27.5555 17.6611 26.1611 16.6734L25.7154 16.3577C25.3532 16.1012 24.9511 15.9063 24.5252 15.7811L23.7547 15.5545C22.9635 15.3218 22.1189 15.3458 21.3423 15.6232C20.7901 15.8204 20.2895 16.1396 19.8777 16.557L17.0682 19.4044C16.6201 19.8586 16.3207 20.4382 16.2099 21.0665C16.1394 21.466 16.1468 21.8753 16.2318 22.2719L16.2531 22.3711C16.3436 22.7935 16.5081 23.1966 16.739 23.5617L17.7396 25.1441C18.6476 26.5801 18.8029 28.3672 18.156 29.9382C17.4854 31.5669 16.0411 32.7495 14.3121 33.0856L13.1522 33.3112C12.6353 33.4117 12.1435 33.6138 11.7054 33.9059L11.6315 33.9552C11.0649 34.3329 10.6148 34.8611 10.3317 35.4804C10.1131 35.9585 10 36.478 10 37.0037V41.15C10 41.6415 10.1144 42.1263 10.3343 42.5659C10.5106 42.9186 10.7513 43.2353 11.0439 43.4996L11.241 43.6776C11.8358 44.2149 12.5614 44.5864 13.3451 44.7551L14.6472 45.0353C16.25 45.3802 17.5816 46.4894 18.2105 48.0034C18.8645 49.5777 18.6706 51.3768 17.6964 52.7758L17.1789 53.5188C16.8512 53.9894 16.6151 54.5175 16.4829 55.0755L16.43 55.299C16.3009 55.8439 16.3009 56.4113 16.43 56.9561C16.5819 57.5973 16.907 58.1845 17.37 58.6534L20.3346 61.656C20.7807 62.1078 21.3413 62.4298 21.9564 62.5875C22.5498 62.7397 23.1728 62.7335 23.763 62.5695L23.9685 62.5124C24.4127 62.389 24.8342 62.195 25.2168 61.9377L26.2945 61.213C27.6582 60.2961 29.3892 60.1192 30.9102 60.7414C32.5242 61.4017 33.669 62.8657 33.9207 64.5913L34.0052 65.1707C34.222 66.6578 35.2633 67.8934 36.6922 68.3591L38.7983 69.0454C41.2567 69.7774 43.893 68.6911 45.1218 66.4384L45.6221 65.5211C45.8866 65.0363 46.494 64.8576 46.9789 65.1221C47.4637 65.3866 47.6424 65.994 47.3779 66.4789L46.8776 67.3961C45.1942 70.4822 41.5798 71.968 38.2127 70.9578L38.2014 70.9544L36.0724 70.2606C33.9207 69.5594 32.3527 67.6988 32.0261 65.4594L31.9416 64.8799C31.7921 63.8547 31.1119 62.9848 30.1529 62.5925C29.2493 62.2228 28.2208 62.3279 27.4105 62.8727L26.3328 63.5974C25.7722 63.9743 25.1546 64.2587 24.5037 64.4395L24.2983 64.4965C23.3709 64.7542 22.392 64.7639 21.4596 64.5249C20.4932 64.2771 19.6123 63.7711 18.9114 63.0611L15.9468 60.0586C15.2263 59.3288 14.7202 58.415 14.4838 57.417C14.283 56.5691 14.283 55.686 14.4838 54.8381L14.5368 54.6146C14.7268 53.8121 15.0664 53.0526 15.5377 52.3758L16.0552 51.6328C16.6395 50.7938 16.7557 49.7148 16.3635 48.7706C15.9863 47.8626 15.1877 47.1974 14.2265 46.9905L12.9244 46.7103C11.7981 46.468 10.7553 45.934 9.9004 45.1618L9.70336 44.9838C9.22587 44.5525 8.83315 44.0358 8.54541 43.4604C8.18673 42.743 8 41.952 8 41.15V37.0037C8 36.1911 8.17487 35.388 8.51272 34.6489C8.95039 33.6915 9.64622 32.875 10.5221 32.2911L10.596 32.2418C11.2545 31.8028 11.9936 31.499 12.7704 31.348L13.9304 31.1224C14.9992 30.9146 15.892 30.1835 16.3066 29.1767C16.7065 28.2055 16.6106 27.1007 16.0492 26.2131L15.0486 24.6306C14.6917 24.0662 14.4374 23.4431 14.2975 22.7902L14.2762 22.6909C14.1372 22.0421 14.125 21.3724 14.2403 20.7189C14.4217 19.6911 14.9114 18.7427 15.6445 17.9997L18.454 15.1523C19.077 14.5209 19.8343 14.038 20.6696 13.7397C21.8445 13.3201 23.1222 13.2837 24.319 13.6357L25.0896 13.8624C25.7271 14.0499 26.3292 14.3416 26.8714 14.7257L27.3171 15.0414C28.1562 15.6357 29.24 15.7627 30.1938 15.3783C31.1489 14.9934 31.8423 14.1487 32.0337 13.1369L32.307 11.6924C32.4431 10.9732 32.7171 10.2872 33.1139 9.67213C33.6868 8.78407 34.4965 8.07377 35.4516 7.62135L35.5406 7.57918C36.3457 7.19782 37.2255 7 38.1163 7H41.7193C42.7403 7 43.7436 7.26644 44.6301 7.773C45.7506 8.41328 46.6287 9.40516 47.1284 10.595L47.5581 11.6181C47.7291 12.0251 47.8484 12.4519 47.9135 12.8885L47.9316 13.0103C48.0859 14.0463 48.7578 14.9322 49.7138 15.3603C50.6731 15.7899 51.7855 15.6988 52.6623 15.1191L53.7542 14.397C54.397 13.9719 55.1144 13.672 55.8686 13.5133C56.931 13.2896 58.0338 13.3527 59.0638 13.696L59.0937 13.706C60.0404 14.0215 60.8976 14.5598 61.5931 15.2755L64.1374 17.8935C64.7532 18.5272 65.2053 19.3013 65.4546 20.149C65.6952 20.967 65.7401 21.83 65.5856 22.6685L65.5507 22.8582C65.3943 23.7074 65.0634 24.515 64.5791 25.2299L63.7215 26.496C63.2109 27.2498 63.0742 28.1961 63.3508 29.0635C63.6955 30.1446 64.6263 30.9348 65.749 31.0995L66.8002 31.2536C67.6402 31.3768 68.4438 31.6793 69.1566 32.1405C70.0769 32.736 70.8137 33.5753 71.285 34.565L71.3629 34.7286C71.7824 35.6094 72 36.5727 72 37.5483V40.4099C72 41.4742 71.7223 42.52 71.1943 43.444C70.4049 44.8254 69.1082 45.8448 67.5795 46.2858L66.4096 46.6232C65.879 46.7763 65.3247 46.4702 65.1717 45.9396C65.0186 45.4089 65.3247 44.8547 65.8553 44.7016L67.0252 44.3641C68.054 44.0674 68.9266 43.3814 69.4578 42.4517C69.8131 41.8299 70 41.1261 70 40.4099V37.5483C70 36.8702 69.8487 36.2007 69.5572 35.5885L69.4793 35.4249C69.1673 34.7696 68.6794 34.2139 68.0701 33.8197C67.5982 33.5143 67.0661 33.314 66.5099 33.2325L65.4588 33.0783C63.5798 32.8027 62.0222 31.4804 61.4453 29.671C60.9825 28.2194 61.2111 26.6357 62.0656 25.3743L62.9233 24.1082C63.2525 23.6222 63.4774 23.0732 63.5838 22.4959L63.6187 22.3062C63.7164 21.7761 63.688 21.2304 63.5359 20.7133C63.3783 20.1774 63.0925 19.688 62.7031 19.2874L60.1589 16.6694C59.6865 16.1833 59.1043 15.8177 58.4612 15.6033L58.4313 15.5934C57.738 15.3623 56.9957 15.3198 56.2806 15.4704C55.773 15.5772 55.2901 15.779 54.8574 16.0652L53.7654 16.7873C52.3176 17.7447 50.4807 17.895 48.8965 17.1857C47.3177 16.4788 46.2082 15.0158 45.9534 13.3049L45.9353 13.1831C45.8948 12.9114 45.8205 12.6458 45.7142 12.3925L45.2845 11.3695C44.9551 10.5852 44.3763 9.9315 43.6378 9.50948C43.0535 9.17561 42.3923 9 41.7193 9H38.1163Z" fill="#29BB4A"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M42.3007 24.9215C41.3264 24.4028 40.172 24.3438 39.1498 24.7604L38.3568 25.0836C37.6111 25.3875 37.0854 26.0678 36.9795 26.8661C36.889 27.5481 37.1164 28.2339 37.5964 28.7267L41.6686 32.9073C42.3754 33.6329 42.7732 34.6044 42.7782 35.6174C42.7832 36.6437 42.3847 37.631 41.6686 38.3662L39.0798 41.0239C38.3095 41.8148 37.2017 42.18 36.112 42.0023C35.3971 41.8858 34.7385 41.5428 34.2331 41.0239L29.96 36.637C29.4664 36.1302 28.7499 35.9076 28.0561 36.0452C27.2596 36.2033 26.6267 36.8084 26.4331 37.597L26.2806 38.2181C26.1284 38.8384 26.1718 39.4907 26.4049 40.0853L28.377 45.1152C29.2113 47.2433 30.688 49.0586 32.6016 50.3089L33.941 51.1839C35.5748 52.2513 37.4631 52.8648 39.4122 52.9615L39.5362 52.9676C42.8162 53.1304 45.913 54.5284 48.2044 56.8809L57.3814 66.3023C57.7667 66.6979 57.7584 67.331 57.3628 67.7164C56.9672 68.1018 56.3341 68.0934 55.9487 67.6978L46.7718 58.2764C44.8329 56.2858 42.2125 55.1029 39.4371 54.9652L39.3131 54.959C37.0096 54.8447 34.7779 54.1197 32.8471 52.8582L31.5078 51.9832C29.2462 50.5057 27.501 48.3603 26.515 45.8452L24.5429 40.8153C24.1591 39.8363 24.0876 38.7625 24.3383 37.7413L24.4908 37.1201C24.8697 35.5769 26.1081 34.3928 27.6668 34.0835C29.0247 33.814 30.4267 34.2498 31.3926 35.2415L35.6658 39.6284C35.8724 39.8406 36.1416 39.9808 36.4339 40.0284C36.8793 40.1011 37.3322 39.9517 37.6472 39.6284L40.2359 36.9707C40.5859 36.6114 40.7807 36.1289 40.7782 35.6273C40.7757 35.1322 40.5814 34.6574 40.2359 34.3028L36.1638 30.1222C35.2558 29.1901 34.8257 27.8929 34.9969 26.603C35.1972 25.0931 36.1915 23.8064 37.602 23.2315L38.395 22.9083C39.9669 22.2677 41.7421 22.3584 43.2405 23.156L47.3379 25.3371C49.309 26.3864 50.9766 27.9257 52.18 29.8066L53.7968 32.3338C54.8144 33.9243 55.3259 35.7856 55.2643 37.6721L55.3169 38.984C55.4256 41.6969 56.5339 44.2737 58.4283 46.2186L67.7161 55.7539C68.1015 56.1495 68.0932 56.7826 67.6976 57.168C67.3019 57.5534 66.6688 57.545 66.2835 57.1494L56.9956 47.6141C54.7567 45.3156 53.447 42.2703 53.3185 39.0641L53.2644 37.7149L53.2642 37.638C53.3193 36.1447 52.9174 34.6703 52.1121 33.4116L50.4953 30.8845C49.4771 29.2929 48.066 27.9904 46.3981 27.1026L42.3007 24.9215Z" fill="#29BB4A"/>
                        </svg>                            
                    </div>
                </section>
                <section id="table-section" class="item10 other-blocks">
                    <h4>Показатели датчиков</h4>
                    <table id="myTable">
                        <thead>
                            <tr>
                                <th>Число</th>
                                <th>Заряд</th>
                                <th>Скорость</th>
                                <th>t° батареи</th>
                                <th>U батареи</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Добавьте другие строки с данными здесь -->
                        </tbody>
                    </table>
                </section>
            </div>
            <div id="akbForm" style="display: none;">
                <form>
                    <h1>Включить / выключить обогрев АКБ</h2>
                    <button></button>
                </form>
            </div>
        </section>`;
        this.routeAuto = newItem.querySelector("#routeAutoButton");
        this.debuggingAuto = newItem.querySelector("#debuggingAutoButton");
        this.akbSettings = newItem.querySelector("#akbSettingsButton");
        this.systemError = newItem.querySelector("#systemErrorButton");
        this.nextServiceDateChange = newItem.querySelector("#nextServiceDateChangeButton");

        newItem.querySelector(".battery_indicator section").style.backgroundImage = battery.getGradient();
        newItem.querySelector(".battery_indicator section").style.borderColor = battery.getBatteryColor();
        newItem.querySelector(".battery_indicator").style.borderColor = battery.getBatteryColor();
        newItem.querySelector(".battery_head").style.borderColor = battery.getBatteryColor();
        if (item.battery_health >= 98) {
            newItem.querySelector(".battery_indicator section").style.borderTopRightRadius = `12px`;
            newItem.querySelector(".battery_indicator section").style.borderBottomRightRadius = `12px`;
            newItem.querySelector(".battery_indicator section").style.border = `solid 2px ` + battery.getBatteryColor();
        }
        clearContainers([
            MAIN_AUTH_CONTAINER,
            MAIN_HEADER_CONTAINER,
            MAIN_GARAGE_CONTAINER,
            MAIN_AUTO_DETAILS_CONTAINER,
            MAIN_AUTO_ROUTE_CONTAINER,
            MAIN_AUTO_DEBUGGING_CONTAINER,
            MAIN_ADD_EVM_PRO_CONTAINER,
            MAIN_USERS_CONTROLLER_CONTAINER,
            MAIN_MAP_CONTAINER,
            MAIN_PERSONAL_OFFICE_CONTAINER
        ]);
        MAIN_AUTO_DETAILS_CONTAINER.style.paddingBottom = "13vh";
        MAIN_AUTO_DETAILS_CONTAINER.appendChild(newItem);
        chartWeek.setListener();
        table.getTable();
        this.onClickRoute(item, battery);
        this.onClickDebugging(item, battery);
        this.onClickAKBSettings(item);
        this.onClickSystemError(item);
        this.onClickNextServiceDate(item);
    }
    async onClickRoute(item, battery) {
        this.routeAuto.addEventListener("click", () => {
            new RouteAuto(item, battery).onStart();
        })
    }
    async onClickDebugging(item, battery) {
        this.debuggingAuto.addEventListener("click", () => {
            new DebuggingAuto(item, battery).onStart();
        })
    }
    async onClickAKBSettings(item) {
        this.akbSettings.addEventListener("click", () => {
            new OptionsAKB(item).onStart();
        })
    }
    async onClickSystemError(item) {
        this.systemError.addEventListener("click", () => {
            new SystemError(item).onStart();
        })
    }
    async onClickNextServiceDate(item) {
        this.nextServiceDateChange.addEventListener("click", () => {
            new ServiceDate(item).onStart();
        })
    }
}